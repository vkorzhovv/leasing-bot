# Установка
**1.** git clone [https://github.com/Dbtzhv/leasing_bot.git](https://github.com/Dbtzhv/leasing_bot.git) <br>
**2.** переходим в склонированную папку в консоли и выполняем команду: python -m venv venv. Потом активируем виртуальное окружение<br>
**3.** устанавливаем зависимости в виртуальное окружение: pip install -r requirements.txt <br>
**4.** создаём суперюзера: python manage.py createsuperuser <br>
**5.** переходим в bot/bot.py и вставляем токен своего бота в переменную bot = Bot('') (уже вставлен на бота @AitrixCarBot). Токен можно получить у @BotFather <br>
**6.** запускаем сервер django, находясь папке leasing_bot: python manage.py runserver <br>
**7.** открываем вторую консоль, переходим в leasing_bot/bot и запускаем бота: python main.py <br>
**8.** смотрим проект


# Рассылка 

Для начала, нужно перейти в bot/bot.py и вписать свой admin_id (тот айди пользователя, которому будут приходить рассылки на подтверждение).
Потом переходим в админку, заходим суперюзером и создаем рассылки (посты - POSTS, викторина и опрос - POLLS)
Пример создания POLLS:
![Пример викторины](photo_2023-08-14_14-50-45.jpg)

В total_media_count нужно ввести количество медиа, которое будет у поста/викторины/опроса<br>
correct_answer - какой по номеру option будет правильным (если оставить пустым, то будет обычный опрос без правильного ответа). Счёт начинается с 1<br>
absolute_media_path оставляем пустым, он заполнится автоматически. Главное - загрузить сами фотки.<br>
После save сообщение отправится указанному admin_id, он нажимёт "Подвтердить" и у него в админке поменяется поле approved(подтверждено) на True и начнётся рассылка
